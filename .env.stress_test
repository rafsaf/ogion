# Ogion Stress Test Configuration
# Minimal setup for fast iteration and memory leak detection

# ============================================================================
# BACKUP TARGETS - Minimal for speed
# ============================================================================

POSTGRESQL_DB_PG_16=host=localhost port=10016 password=password-_-12!@#%^&*()/;><.,]}{[ user=user-_-12!@#%^&*()/;><.,]}{[ db=database-_-12!@#%^&*()/;><.,]}{[ cron_rule=* * * * *
MARIADB_DB_TEST_1011=host=localhost port=12011 password=password-_-12!@#%^&*()/;><.,]}{[ user=user-_-12!@#%^&*()/;><.,]}{[ db=database-_-12!@#%^&*()/;><.,]}{[ cron_rule=* * * * * client_ssl=false

# Single file - small test file
SINGLEFILE_STRESS=abs_path=/etc/hostname cron_rule=* * * * *

# Directory - small test directory
DIRECTORY_STRESS=abs_path=/etc/ssl/certs cron_rule=* * * * *

# ============================================================================
# BACKUP CONFIGURATION - Optimized for speed
# ============================================================================

# Minimal retention to reduce cleanup overhead
BACKUP_MAX_NUMBER=2
BACKUP_MIN_RETENTION_DAYS=0
BACKUP_DELETE=true

# Fastest compression (level 0 = store only, no actual compression)
LZIP_LEVEL=0
LZIP_THREADS=1

# ============================================================================
# ENCRYPTION
# ============================================================================

# Use test key for stress testing
AGE_RECIPIENTS=age1q5g88krfjgty48thtctz22h5ja85grufdm0jly3wll6pr9f30qsszmxzm2
DEBUG_AGE_SECRET_KEY=AGE-SECRET-KEY-12L9ETSAZJXK2XLGQRU503VMJ59NGXASGXKAUH05KJ4TDC6UKTAJQGMSN3L

# ============================================================================
# BACKUP PROVIDERS - Configured via BACKUP_PROVIDER_NAME
# ============================================================================

# Provider will be set via environment: BACKUP_PROVIDER_NAME (gcs, s3, azure, debug)
# GCS Provider (uses fake-gcs-server on localhost:4443)
GCS_PROVIDER=name=gcs bucket_name=stresstest bucket_upload_path=test service_account_base64=Z29vZ2xlX3NlcnZpY2VfYWNjb3VudAo=

# S3 Provider (uses MinIO on localhost:9000)
S3_PROVIDER=name=s3 endpoint=localhost:9000 bucket_name=stresstest access_key=minioadmin secret_key=minioadmin bucket_upload_path=test secure=false

# Azure Provider (uses Azurite on localhost:10000)
AZURE_PROVIDER=name=azure container_name=stresstest connect_string=DefaultEndpointsProtocol=http;AccountName=devstoreaccount1;AccountKey=Eby8vdM02xNOcqFlqUwJPLlmEtlCDXJ1OUzFT50uSRZ6IFsuFq2UVErCz4I6tq/K1SZFPTOtr/KBHBeksoGMGw==;BlobEndpoint=http://127.0.0.1:10000/devstoreaccount1;QueueEndpoint=http://127.0.0.1:10001/devstoreaccount1;TableEndpoint=http://127.0.0.1:10002/devstoreaccount1;

# Debug Provider (local filesystem)
DEBUG_PROVIDER=name=debug

# ============================================================================
# PERFORMANCE TUNING
# ============================================================================

# Reduce timeouts for faster failure detection
SUBPROCESS_TIMEOUT_SECS=60
SIGTERM_TIMEOUT_SECS=10

# ============================================================================
# LOGGING
# ============================================================================

# INFO level to balance visibility and performance
# Set to DEBUG for detailed troubleshooting (slower)
LOG_LEVEL=WARNING

# ============================================================================
# NOTIFICATIONS - Disabled for stress test
# ============================================================================

# DISCORD_WEBHOOK_URL=
# SLACK_WEBHOOK_URL=
# SMTP_HOST=
